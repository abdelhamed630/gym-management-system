{% extends 'base.html' %}
{% load crispy_forms_tags static %}

{% block content %}
{% include 'parts/alrts.html' %}
<div class="container d-flex justify-content-center align-items-center vh-100">
  <div class="col-12 col-sm-10 col-md-8 col-lg-5">
    <div class="card shadow-lg border-0 rounded-4 overflow-hidden login-glass">

      <!-- Header -->
      <div class="card-header text-center py-4 header-gradient">
        <h2 class="fw-bold mb-1"><i class="bi bi-box-arrow-in-right me-2"></i> Login</h2>
        <p class="mb-0 text-muted">Welcome back — continue your fitness journey.</p>
      </div>

      <!-- Body -->
      <div class="card-body p-4">
        {% if error %}
          <div class="alert alert-danger">
            {% if error|length > 1 %}
              <ul class="mb-0">
                {% for e in error %}
                  <li>{{ e }}</li>
                {% endfor %}
              </ul>
            {% else %}
              {{ error }}
            {% endif %}
          </div>
        {% endif %}

        <form method="post" novalidate>
          {% csrf_token %}
          {{ form|crispy }}

          <button type="submit" class="btn btn-gradient w-100 mt-3 py-2">
            <i class="bi bi-unlock-fill me-2"></i>
            <span class="fw-bold">Login</span>
          </button>
        </form>

        <div class="d-flex justify-content-between align-items-center mt-3">
          <small class="text-muted">Don’t have an account?</small>
          <a href="{% url 'register' %}" class="fw-bold text-decoration-none">Register</a>
        </div>
      </div>

    </div>
  </div>
</div>

<!-- Styles (إذا لم تضفها في base.html ضعها هنا) -->
<style>
/* اللوحة الخلفية والزجاج */
.login-glass {
  background: rgba(255,255,255,0.06);
  backdrop-filter: blur(8px);
  border: 1px solid rgba(255,255,255,0.06);
}
.header-gradient {
  background: linear-gradient(135deg, #0d6efd, #00b4d8);
  color: #fff;
}
.btn-gradient {
  background: linear-gradient(135deg, #0d6efd, #00b4d8);
  color: #fff;
  border: none;
  box-shadow: 0 8px 20px rgba(13,110,253,0.18);
  transition: transform .18s ease, box-shadow .18s ease;
  border-radius: 10px;
}
.btn-gradient:hover {
  transform: translateY(-3px);
  box-shadow: 0 18px 40px rgba(13,110,253,0.25);
}
body {
  background: linear-gradient(120deg, #071526 0%, #123a4a 50%, #0b2a36 100%);
  color: #fff;
  font-family: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}
.card {
  margin-top: -6rem;
}
.alert-danger { font-size: 0.95rem; }
</style>

{# إذا الـ base.html لا يحتوي bootstrap/icons أزل التعليق أدناه أو ضفهم في base.html #}
{# 
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
#}

{% endblock content %}
